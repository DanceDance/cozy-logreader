<html>
<head>
    <title>Monitoring</title>
    <script src="/socket.io/socket.io.js"></script>
    <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script>

        $(document).ready(function() {
            var socket = io.connect('http://localhost:9099');
            var container = $('#container');

            socket.on('new-data', function(data) {

                if ($('#' + data.fileSlug).length == 0) {

                    var newMonitor = $('<div id="' + data.fileSlug + '"></div>');
                    newMonitor.append($('<p>' + data.fileName + '</p>'));
                    newMonitor.append($('<ul></ul>'));

                    newMonitor.appendTo(container);
                }

                var newItem = $('<li>' + data.value + '</li>')

                $('#' + data.fileSlug + ' ul').append(newItem);

                $(window).scrollTop($(window).height());
            });
        });
    </script>
</head>
<body>

<div id="container">
</div>

</body>
</html>